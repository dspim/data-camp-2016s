```
## 質化 v.s. 量化：Bar Chart
- 以2008年來說，不同的醫療層級，護理人員的分佈狀況如何呢？
```{r echo = TRUE,fig.height=3, warning=FALSE, fig.align='center', message=FALSE}
temp %>% filter(年度=="2008") %>% group_by(年度,醫療層級) %>%
summarise(護理師_人數=sum(人數)) -> temp_hosp
temp_hosp %>% ggplot(aes(x=醫療層級,y=護理師_人數))+
geom_bar(stat='identity')+thm()# stat='identity'以表格的值做為bar的高度
```
## Bar Chart {.smaller}
- 如何控制長條圖的排序呢？有兩種比較簡單的方式。
- 手動修改levels
```{r echo = TRUE}
class(temp_hosp$醫療層級)
# 發現他是integer的屬性，所以我們要將其轉成factor來改變他的順序
temp_hosp$醫療層級 = factor(temp_hosp$醫療層級,levels = c("2","1","3","4"))
```
- 利用`arrange`事先依照y軸對應的數值的大小來排序
```{r echo = TRUE}
# 我們也可以在一開始先對資料排序完在畫圖
temp_hosp %>% arrange(護理師_人數) -> temp_hosp
# 此時在接上畫圖的code就會自動排序囉！
```
## 兩種類別的Bar Chart {.smaller}
```{r echo = TRUE,fig.height=3, warning=FALSE, fig.align='center', message=FALSE}
# 資料整理大挑戰～～～
temp %>% filter(年度=="2008") %>% group_by(性別,醫療層級) %>% summarise(護理師_人數=sum(人數)) ->  temp_bar
temp_bar %>% filter(性別=="F") %>% mutate(比例=round(護理師_人數/sum(護理師_人數),2)) %>%
bind_rows(temp_bar %>% filter(性別=="M") %>% mutate(比例=round(護理師_人數/sum(護理師_人數),2))) -> temp_MF
temp_MF
```
## 兩種類別.stack
```{r echo = TRUE,fig.height=3, warning=FALSE,fig.align='center', message=FALSE}
temp_MF %>%
ggplot(aes(x=醫療層級,y=比例,fill=性別))+geom_bar(stat='identity',position = 'stack')+thm()
```
## 兩種類別.dodge
- 為何台灣男女性護理師在基層院所的比例會這麼懸殊呢？！
```{r echo = TRUE,fig.height=3, warning=FALSE, fig.align='center', message=FALSE}
temp_MF %>%
ggplot(aes(x=醫療層級,y=比例,fill=性別))+geom_bar(stat='identity',position = 'dodge')+thm()
```
temp %>% filter(年度=="2008") %>% group_by(性別,醫療層級) %>% summarise(護理師_人數=sum(人數)) ->  temp_bar
temp_bar %>% filter(性別=="F") %>% mutate(比例=round(護理師_人數/sum(護理師_人數),2)) %>%
bind_rows(temp_bar %>% filter(性別=="M") %>% mutate(比例=round(護理師_人數/sum(護理師_人數),2))) -> temp_MF
temp_MF
temp %>% filter(年度=="2008") %>% group_by(性別,醫療層級) %>% summarise(護理師_人數=sum(人數)) ->  temp_bar
temp_bar %>% filter(性別=="F") %>% mutate(比例=round(護理師_人數/sum(護理師_人數),2)) %>%
bind_rows(temp_bar %>% filter(性別=="M") %>% mutate(比例=round(護理師_人數/sum(護理師_人數),2)))
temp %>% filter(年度=="2008") %>% group_by(性別,醫療層級) %>% summarise(護理師_人數=sum(人數)) ->  temp_bar
temp_bar %>% filter(性別=="F") %>% mutate(比例=round(護理師_人數/sum(護理師_人數),2)) %>%
bind_rows(temp_bar %>% filter(性別=="M") %>% mutate(比例=round(護理師_人數/sum(護理師_人數),2))) -> temp_MF
temp_MF
class(temp_bar$性別)
levels(temp_bar$性別)
str(temp_bar$性別)
temp_bar %>% filter(性別=="F") %>% mutate(比例=round(護理師_人數/sum(護理師_人數),2))
temp_bar
str(temp_bar)
temp_bar %>% filter(性別==F)
temp_bar %>% filter(性別=='F')
temp_bar$性別 = as.factor(temp_bar$性別)
temp_bar %>% filter(性別=='F')
class(temp_bar)
temp %>% filter(年度=="2008") %>% group_by(性別,醫療層級) %>% summarise(護理師_人數=sum(人數)) %>% as.data.frame() ->  temp_bar
detach("package:dplyr", unload=TRUE)
library("dplyr", lib.loc="/Library/Frameworks/R.framework/Versions/3.2/Resources/library")
temp_bar %>% filter(性別=='F')
temp_bar %>% slice(1:4) %>% mutate(比例=round(護理師_人數/sum(護理師_人數),2)) %>%
bind_rows(temp_bar %>% filter(性別=="M") %>% mutate(比例=round(護理師_人數/sum(護理師_人數),2))) -> temp_MF
temp_MF
temp_bar
temp %>% filter(年度=="2008") %>% group_by(性別,醫療層級) %>% summarise(護理師_人數=sum(人數)) %>% as.data.frame() ->  temp_bar
temp_bar %>% slice(1:4) %>% mutate(比例=round(護理師_人數/sum(護理師_人數),2)) %>%
bind_rows(temp_bar %>% filter(性別=="M") %>% mutate(比例=round(護理師_人數/sum(護理師_人數),2))) -> temp_MF
temp_MF
temp_MF %>%
ggplot(aes(x=醫療層級,y=比例,fill=性別))+geom_bar(stat='identity',position = 'stack')+thm()
temp_MF
temp_MF %>%
ggplot(aes(x=醫療層級,y=比例,fill=性別))+geom_bar(stat='identity',position = 'stack')+thm()
temp_MF
library(xtable)
library(xtable)
library(xtable)
xtable(temp_MF)
xtable(temp_MF) %>%
print.xtable(type='html')
?xtable
xtable(temp_MF) %>% print()
xtable(temp_MF) %>% print(type="html")
View(temp)
View(temp)
house = read.csv("實價登錄.csv",header = T)
View(house)
View(house)
View(house)
ubike <- read.csv('ubikebyhourutf8/ubike-hour-201502-utf8.csv') #請輸入正確的檔案路徑
ubike <- read.csv('ubikebyhourutf8/ubike-hour-201502-utf8.csv') #請輸入正確的檔案路徑
View(ubike)
View(ubike)
ggplot(ubike) +
geom_histogram(aes(x=max.anemo, y=..count..)) + thm()
ggplot(ubike) +
geom_histogram(aes(x=max.anemo, y=..density..)) + thm()
ggplot(ubike) +
geom_histogram(aes(x=max.anemo, y=..density..)) + thm()
ggplot(ubike) +
geom_histogram(aes(x=max.anemo, y=..density.., fill=..count..)) + thm()
ggplot(ubike, aes(x=max.anemo)) +
geom_histogram(aes(y=..density.., fill=..count..)) +
geom_density() + thm()
ggplot(ubike) +
geom_histogram(aes(x=max.anemo, y=..count..)) + thm()
View(ubike)
View(ubike)
View(ubike)
View(ubike)
View(ubike)
house %>% filter(grepl("2015-02", date, fixed = TRUE), sarea == "文山區") -> house_temp
house %>% filter(grepl("2015-02", date, fixed = TRUE), sarea == "文山區") -> house_temp
house %>% filter(grepl("2015-02", date, fixed = TRUE), sarea == "文山區")
ubide %>% filter(grepl("2015-02", date, fixed = TRUE), sarea == "文山區") -> house_temp
ubike %>% filter(grepl("2015-02", date, fixed = TRUE), sarea == "文山區") -> house_temp
View(house_temp)
ubike %>% filter(grepl("2015-02", date, fixed = TRUE), sarea == "文山區") -> ubike_temp
View(ubike_temp)
geom_point(aes(x = avg.bemp, y = temp), size=5) + #size控制點的大小
thm()
ggplot(ubike_temp) +
geom_point(aes(x = avg.bemp, y = temp), size=5) + #size控制點的大小
thm()
ggplot(ubike_temp) +
geom_point(aes(x = avg.bemp, y = temp), size=1) + #size控制點的大小
thm()
ggplot(ubike_temp) +
geom_point(aes(x = avg.bemp, y = temp)) + #size控制點的大小
thm()
ggplot(ubike_temp) +
geom_point(aes(x = avg.bemp, y = temp), size-0.1) + #size控制點的大小
thm()
ggplot(ubike_temp) +
geom_point(aes(x = avg.bemp, y = temp), size=0.1) + #size控制點的大小
thm()
ggplot(ubike_temp) +
geom_point(aes(x = avg.bemp, y = temp), size=0.01) + #size控制點的大小
thm()
ggplot(ubike_temp) +
# 放在aes裡的 colour 和 size 可依資料調整顏色和大小
geom_point(aes(x = avg_bemp, y = temp, colour=sna, size=avg_bemp)) +
# 限制大小
scale_size(range=c(5,10)) +
thm()
ggplot(ubike_temp) +
# 放在aes裡的 colour 和 size 可依資料調整顏色和大小
geom_point(aes(x = avg.bemp, y = temp, colour=sna, size=avg.bemp)) +
# 限制大小
scale_size(range=c(5,10)) +
thm()
ggplot(ubike_temp) +
# 放在aes裡的 colour 和 size 可依資料調整顏色和大小
geom_point(aes(x = avg.bemp, y = temp, colour=sna, size=avg.bemp)) +
thm()
ggplot(ubike_temp) +
# 放在aes裡的 colour 和 size 可依資料調整顏色和大小
geom_point(aes(x = avg.bemp, y = temp, colour=sna, size=avg.bemp)) +
# 限制大小
scale_size(range=c(0.01,0.1)) +
thm()
ggplot(ubike_temp) +
# 放在aes裡的 colour 和 size 可依資料調整顏色和大小
geom_point(aes(x = avg.bemp, y = temp, colour=sna, size=avg.bemp)) +
# 限制大小
scale_size(range=c(0.01,1)) +
thm()
ubike %>% filter(grepl("2015-02", date, fixed = TRUE), sarea == "文山區") -> ubike_temp
ubike_temp %>% group_by(sna) %>% summarise(平均空位 = avg.bemp,平均溫度=temp)
ubike_temp
ubike_temp %>% group_by(sna) %>% summarise(平均空位 = avg.bemp,平均溫度=temp)
names(ubike_temp)
View(ubike)
View(ubike_temp)
ubike_temp %>% group_by(sna) %>% summarise(平均空位 = median(avg.bemp),平均溫度= median(temp))
ubike_temp %>% group_by(sna) %>% summarise(平均空位 = mean(avg.bemp),平均溫度= mean(temp))
View(ubike)
View(ubike)
View(ubike)
ubike_temp %>% group_by(sna) %>% summarise(平均空位 = mean(humidity),最大風速= max.anemo)
ubike %>% filter(grepl("2015-02", date, fixed = TRUE), sarea == "文山區") -> ubike_temp
ubike_temp %>% group_by(sna) %>% summarise(平均空位 = mean(humidity),最大風速= max.anemo)
ubike_temp %>% group_by(sna) %>% summarise(平均空位 = mean(humidity),最大風速= max.anemo)
ubike_temp
ubike_temp %>% group_by(sna) %>% summarise(平均空位 = mean(humidity),最大風速= max.anemo)
x3 <- filter(ubike, grepl("2015-02", date, fixed = TRUE), sarea == "文山區") %>%
group_by(sna) %>%
summarise(rain.avg = mean(rainfall), hum.avg = mean(humidity))
x3 # print(x3)
ggplot(x3) +
geom_point(aes(x = rain.avg, y = hum.avg), size=5) + #size控制點的大小
thm()
ggplot(x3) +
# aes裡的 colour 和 size 可依資料調整顏色和大小, 使用 scale_size() 控制資料
geom_point(aes(x = rain.avg, y = hum.avg, colour=sna, size=rain.avg)) +
scale_size(range=c(5,10)) +
thm()
ggplot(ubike_temp) +
# 放在aes裡的 colour 和 size 可依資料調整顏色和大小
geom_point(aes(x = avg.bemp, y = temp, colour=sna, size=avg.bemp)) +
# 限制大小
scale_size(range=c(0.01,1)) +
thm()
View(temp)
View(temp)
View(temp_台東)
View(ubike)
View(temp)
View(temp)
View(temp_台東)
View(temp)
temp %>% filter(year=="2008") %>% group_by(年齡) %>% summarise(count=sum(人數))
temp %>% filter(year=="2008") %>% group_by(年齡) %>% summarise(count=sum(人數))
View(temp_台東)
View(temp)
temp %>% filter(年度=="2008") %>% group_by(年齡) %>% summarise(count=sum(人數))
temp_age = filter(年度=="2008") %>% group_by(年齡) %>% summarise(count=sum(人數))
temp_age = temp %>%  filter(年度=="2008") %>% group_by(年齡) %>% summarise(count=sum(人數))
View(temp_age)
ggplot(temp_age,aes(x=年齡, y=count)) +
geom_point() + stat_smooth()
ggplot(temp_age,aes(x=年齡, y=count)) +
geom_point() + stat_smooth()+thm()
ggplot(temp_age,aes(x=年齡, y=count)) +
geom_point()
temp %>% sample_n(10,replace = TRUE) %>% xtable() %>% print(type='html')
temp %>% sample_n(10,replace = TRUE)
temp %>% sample_n(10,replace = TRUE) %>% xtable()
temp %>% sample_n(10,replace = TRUE) %>% xtable() %>% print(type='html')
temp %>% sample_n(10,replace = TRUE) -> temp_temp
xtable(temp_temp) %>% print(type='html')
temp_age = temp %>%  filter(年度=="2008") %>%
group_by(年齡) %>%
summarise(count=sum(人數))
ggplot(temp_age,aes(x=年齡, y=count)) +
geom_point() + stat_smooth()+thm()
View(temp)
ggplot(temp_long,aes(x=年度 %>% as.factor(), y=人數, group=地區, color=地區)) + # gruop按照不同區域劃線
geom_line() + geom_point() + thm()+labs(titles="歷年度台澎金花護理師人數",x="年度",y="護理師人數")+
theme(axis.text.x = element_text(angle = 30, hjust = 1))
temp_long
View(temp)
View(temp)
temp %>% group_by(年度,醫療層級,性別) %>% summarise(total=sum(人數))
temp %>% group_by(年度,醫療層級,縣市) %>% summarise(total=sum(人數))
temp %>% group_by(年度,醫療層級,縣市) %>% summarise(total=sum(人數))
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級))+
geom_bar(stat='identity')+
thm()+
facet_wrap(~醫療層級, nrow=2)
temp_facet = temp %>%
group_by(年度,醫療層級,縣市) %>%
summarise(total=sum(人數))
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級))+
geom_bar(stat='identity')+
thm()+
facet_wrap(~醫療層級, nrow=2)
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級))+
geom_bar(stat='identity')+
thm()+
facet_wrap(~醫療層級, nrow=2)+
theme(axis.text.x = element_text(angle = 90, hjust = 1)) + #控制字的方向
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級))+
geom_bar(stat='identity')+
thm()+
facet_wrap(~醫療層級, nrow=2)+
theme(axis.text.x = element_text(angle = 90, hjust = 1))  #控制字的方向
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級))+
geom_bar(stat='identity')+
thm()+
facet_wrap(~醫療層級, nrow=2)+coord_flip()
thm <- function() theme(text=element_text(size=15, family="STHeiti")) # 控制字體與大小
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級))+
geom_bar(stat='identity')+
thm()+
facet_wrap(~醫療層級, nrow=2)+coord_flip()
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級 %>% as.factor()))+
geom_bar(stat='identity')+
thm()+
facet_wrap(~醫療層級, nrow=2)
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級 %>% as.factor()))+
geom_bar(stat='identity')+
thm()+
facet_wrap(~醫療層級, nrow=2)+coord_flip()
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級 %>% as.factor()))+
geom_bar(stat='identity')+
thm()+
facet_wrap(~醫療層級, nrow=2)+coord_flip()
temp_facet = temp %>%
filter(年度=="2012")
group_by(年度,醫療層級,縣市) %>% #選擇年度、醫療層級、縣市作為分群
summarise(total=sum(人數)) # 計算分裙下的總人數
temp %>%
filter(年度=="2012")
group_by(年度,醫療層級,縣市) %>% #選擇年度、醫療層級、縣市作為分群
summarise(total=sum(人數))
temp %>%
filter(年度=="2012") %>%
group_by(年度,醫療層級,縣市) %>% #選擇年度、醫療層級、縣市作為分群
summarise(total=sum(人數))
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級 %>% as.factor()))+
geom_bar(stat='identity')+
thm()+
facet_wrap(~醫療層級, nrow=2)+coord_flip()+
labs(titles="2012年各醫療層級各縣市護理師數",x="縣市",y="護理師人數")
View(temp_facet)
View(temp_facet)
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級 %>% as.factor()))+
geom_bar(stat='identity')+
thm()+
facet_wrap(~醫療層級, nrow=2)
``{r echo = TRUE}
temp_facet = temp %>%
filter(年度=="2012") %>%
group_by(年度,醫療層級,縣市) %>% #選擇年度、醫療層級、縣市作為分群
summarise(total=sum(人數))
View(temp_facet)
View(temp_facet)
View(temp_facet)
temp_facet = temp %>%
filter(年度=="2012") %>%
group_by(醫療層級,縣市) %>% #選擇年度、醫療層級、縣市作為分群
summarise(total=sum(人數)) # 計算分裙下的總人數
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級 %>% as.factor()))+
geom_bar(stat='identity')+
thm()+
facet_wrap( ~ 醫療層級, nrow=2)
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級 %>% as.factor()))+
geom_bar(stat='identity')+
thm()+
facet_wrap(~醫療層級, nrow=2)+coord_flip()+
labs(titles="2012年各醫療層級各縣市護理師數",x="縣市",y="護理師人數")
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級 %>% as.factor()))+
geom_bar(stat='identity')+
thm()+
facet_wrap( ~ 醫療層級, nrow=2)
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級 %>% as.factor()))+
geom_bar(stat='identity')+
thm()+
facet_wrap(~醫療層級, nrow=2)+coord_flip()+
labs(titles="2012年各醫療層級各縣市護理師數",x="縣市",y="護理師人數")
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級 %>% as.factor()))+
geom_bar(stat='identity')+
thm()+
facet_wrap( ~ 醫療層級, nrow=2)
temp_ facet$醫療層級=as.character(temp_facet$醫療層級)
temp_ facet$醫療層級=as.character(temp_facet$醫療層級)
temp_facet$醫療層級=as.character(temp_facet$醫療層級)
temp_facet$醫療層級=as.character(temp_facet$醫療層級)
temp_facet %>% mutate(醫療層級=revalue(醫療層級,c("1"="醫學中心","2"="區域醫院","3"="地區醫院","4"="基層院所")))
temp_facet %>% mutate(醫療層級=revalue(醫療層級,c("1"="醫學中心","2"="區域醫院","3"="地區醫院","4"="基層院所")))
class(temp_facet$醫療層級)
temp_facet %>% mutate(醫療層級=revalue(醫療層級,c("1"="醫學中心","2"="區域醫院","3"="地區醫院","4"="基層院所")))
temp_facet$醫療層級=as.factor(temp_facet$醫療層級)
levels(temp_facet)
temp_facet$醫療層級=as.factor(temp_facet$醫療層級)
levels(temp_facet$醫療層級)
temp_facet %>% mutate(醫療層級=revalue(醫療層級,c("1"="醫學中心","2"="區域醫院","3"="地區醫院","4"="基層院所")))
temp_facet = temp %>%
filter(年度=="2012") %>%
group_by(醫療層級,縣市) %>% #選擇年度、醫療層級、縣市作為分群
summarise(total=sum(人數)) # 計算分裙下的總人數
temp_facet$醫療層級
temp_facet = temp %>%
filter(年度=="2012") %>%
group_by(醫療層級,縣市) %>% #選擇年度、醫療層級、縣市作為分群
summarise(total=sum(人數))
```{r echo = TRUE}
temp_facet
ggplot(temp_facet,aes(x=縣市,y=total,fill=醫療層級 %>% as.factor()))+
geom_bar(stat='identity')+
thm()+
facet_wrap( ~ 醫療層級, nrow=2)
temp_facet = temp %>%
filter(年度=="2012") %>%
group_by(性別,縣市) %>% #選擇年度、醫療層級、縣市作為分群
summarise(total=sum(人數)) # 計算分裙下的總人數
ggplot(temp_facet,aes(x=縣市,y=total,fill=性別 %>% as.factor()))+
geom_bar(stat='identity')+
thm()+
facet_wrap( ~ 性別, nrow=2)
ggplot(temp_facet,aes(x=縣市,y=total,fill=性別 %>% as.factor()))+
geom_bar(stat='identity')+
thm()+
facet_wrap( ~ 性別, nrow=2)
ggplot(temp_facet,aes(x=縣市,y=total,fill=性別 %>% as.factor()))+
geom_bar(stat='identity')+
thm()+
facet_wrap(~性別, ncol=2)+coord_flip()+
labs(titles="2012年各醫療層級各縣市護理師數",x="縣市",y="護理師人數")
dsamp <- diamonds[sample(nrow(diamonds), 1000), ]
qplot(carat, price, data=dsamp, colour=clarity)
ggplotly()
ggplotly()
p = qplot(carat, price, data=dsamp, colour=clarity)
ggplotly(p)
set.seed(100)
d <- diamonds[sample(nrow(diamonds), 1000), ]
p <- ggplot(data = d, aes(x = carat, y = price)) +
geom_point(aes(text = paste("Clarity:", clarity)), size = 4) +
geom_smooth(aes(colour = cut, fill = cut)) + facet_wrap(~ cut)
(gg <- ggplotly(p))
dat <- data.frame(
time = factor(c("Lunch","Dinner"), levels=c("Lunch","Dinner")),
total_bill = c(14.89, 17.23)
)
ggplot(data=dat, aes(x=time, y=total_bill)) +
geom_bar(stat="identity")
ggplotly()
library(plotly)
dat <- data.frame(
time = factor(c("Lunch","Dinner"), levels=c("Lunch","Dinner")),
total_bill = c(14.89, 17.23)
)
ggplot(data=dat, aes(x=time, y=total_bill)) +
geom_bar(stat="identity")
ggplotly()
devtools::install_github("ropensci/plotly")
remove.packages("plotly", lib="/Library/Frameworks/R.framework/Versions/3.2/Resources/library")
devtools::install_github("ropensci/plotly")
library(plotly)
library(reshape2)
# Look at fist several rows
head(tips)
ggplot(data=tips, aes(x=day)) +
geom_bar(stat="bin")
ggplot(data=tips, aes(x=day)) +
geom_bar(stat="bin")
dat <- data.frame(
time = factor(c("Lunch","Dinner"), levels=c("Lunch","Dinner")),
total_bill = c(14.89, 17.23)
)
ggplot(data=dat, aes(x=time, y=total_bill)) +
geom_bar(stat="identity")
ggplotly()
ggplot(temp_facet,aes(x=縣市,y=total,fill=性別 %>% as.factor()))+
geom_bar(stat='identity')+
thm()+
facet_wrap(~性別, ncol=2)+coord_flip()+
labs(titles="2012年各醫療層級各縣市護理師數",x="縣市",y="護理師人數")
ggplot(temp_facet,aes(x=縣市,y=total,fill=性別 %>% as.factor()))+
geom_bar(stat='identity')+
thm()+
facet_wrap(~性別, ncol=2)+coord_flip()+
labs(titles="2012年各醫療層級各縣市護理師數",x="縣市",y="護理師人數") -> a
ggplotly(a)
ggplotly(a)
ggplotly(a)
View(temp)
ggplot(temp_facet,aes(x=縣市,y=total)+
geom_bar(stat='identity')+
thm()
ggplot(temp_facet,aes(x=縣市,y=total))+
geom_bar(stat='identity')+
thm()
temp_plot = temp %>%
filter(年度=="2012") %>%
group_by(縣市) %>%
summarise(total=sum(人數))
View(temp_plot)
ggplot(temp_plot,aes(x=縣市,y=total,fill=縣市)+
geom_bar(stat='identity')+
thm()
labs(titles="2012年各醫療層級各縣市護理師數",x="縣市",y="護理師人數")
ggplot(temp_plot,aes(x=縣市,y=total,fill=縣市)+
geom_bar(stat='identity')+
thm()+
labs(titles="2012年各醫療層級各縣市護理師數",x="縣市",y="護理師人數")
ggplot(temp_plot,aes(x=縣市,y=total,fill=縣市))+
geom_bar(stat='identity')+
thm()+
labs(titles="2012年各醫療層級各縣市護理師數",x="縣市",y="護理師人數")
a = ggplot(temp_plot,aes(x=縣市,y=total,fill=縣市))+
geom_bar(stat='identity')+
thm()+
labs(titles="2012年各縣市護理師數",x="縣市",y="護理師人數")
ggplotly(a)
a
ggplotly(a)
library(plotly)
ggplotly(a)
ggplotly(a)
ggplotly(a)
a
ggplotly(a)
a
ggplot(temp_plot,aes(x=縣市,y=total,fill=縣市))+
geom_bar(stat='identity')+
thm()+
labs(titles="2012年各縣市護理師數",x="縣市",y="護理師人數")+coord_flip()
ggplot(temp_plot,aes(x=縣市,y=total,fill=縣市))+
geom_bar(stat='identity')+
thm()+
labs(titles="2012年各縣市護理師數",x="縣市",y="護理師人數")+coord_flip()
ggplot(temp_hosp,aes(x=醫療層級,y=護理師_人數))+
geom_bar(stat='identity')+thm()# stat='identity'以表格的值做為bar的高度
View(temp_sex_year)
ggplot(x3) +
# aes裡的 colour 和 size 可依資料調整顏色和大小, 使用 scale_size() 控制資料
geom_point(aes(x = rain.avg, y = hum.avg, colour=sna, size=rain.avg)) +
scale_size(range=c(5,10)) +
thm()
str(iris)
?cast
